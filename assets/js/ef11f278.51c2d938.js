"use strict";(self.webpackChunkjunotools_docs=self.webpackChunkjunotools_docs||[]).push([[24],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(n),m=a,f=p["".concat(s,".").concat(m)]||p[m]||d[m]||o;return n?r.createElement(f,i(i({ref:t},u),{},{components:n})):r.createElement(f,i({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1806:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return u},default:function(){return p}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],c={sidebar_position:2},s="Guide",l={unversionedId:"dashboards/upload-contract/guide",id:"dashboards/upload-contract/guide",title:"Guide",description:"In this guide, we'll go over how to upload a smart contract.",source:"@site/docs/03-dashboards/07-upload-contract/02-guide.md",sourceDirName:"03-dashboards/07-upload-contract",slug:"/dashboards/upload-contract/guide",permalink:"/docs/dashboards/upload-contract/guide",editUrl:"https://github.com/CosmosContracts/juno-tools-docs/edit/main/docs/03-dashboards/07-upload-contract/02-guide.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/dashboards/upload-contract/introduction"},next:{title:"Introduction",permalink:"/docs/dashboards/terra/introduction"}},u=[{value:"What&#39;s a WASM file?",id:"whats-a-wasm-file",children:[],level:2},{value:"Generate a WASM File",id:"generate-a-wasm-file",children:[],level:2}],d={toc:u};function p(e){var t=e.components,c=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,c,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"guide"},"Guide"),(0,o.kt)("p",null,"In this guide, we'll go over how to upload a smart contract."),(0,o.kt)("h2",{id:"whats-a-wasm-file"},"What's a WASM file?"),(0,o.kt)("p",null,"When a smart contract is going to be deployed on the Juno network, a WASM file must be generated first. WASM, web assembly, is a portable binary-code format popular among blockchain applications."),(0,o.kt)("p",null,"That's because the code will be interpreted by different machines and there is a need for a common understanding of a code, like a protocol."),(0,o.kt)("h2",{id:"generate-a-wasm-file"},"Generate a WASM File"),(0,o.kt)("p",null,"To generate a WASM file, you must have an access to the smart contract code. "),(0,o.kt)("p",null,"It can be either a code you wrote or a code you cloned/forked from someone else."),(0,o.kt)("p",null,"The folder structure of a smart contract should look similar to this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cw-contract/\n\u251c\u2500\u2500 .cargo/\n\u2502   \u2514\u2500\u2500 config \n\u251c\u2500\u2500 .circleci/\n\u2502   \u2514\u2500\u2500 config.yml \n\u251c\u2500\u2500 .github/workflows/\n\u2502   \u2514\u2500\u2500 Basic.yml \n\u251c\u2500\u2500 examples/\n\u2502   \u2514\u2500\u2500 schema.rs \n\u251c\u2500\u2500 schema/ \n\u251c\u2500\u2500 src/ \n\u2502   \u251c\u2500\u2500 state.rs \n\u2502   \u251c\u2500\u2500 contract.rs  \n\u2502   \u251c\u2500\u2500 lib.rs  \n\u2502   \u251c\u2500\u2500 msg.rs  \n\u2502   \u2514\u2500\u2500 error.rs \n\u2514\u2500\u2500 target/ \n")),(0,o.kt)("p",null,"There are a few ways to generate a WASM file. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Unoptimised: ",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cargo wasm\n"))),(0,o.kt)("li",{parentName:"ul"},"Optimized (Docker must be installed):",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'docker run --rm -v "$(pwd)":/code \\\n--mount type=volume,source="$(basename "$(pwd)")_cache",target=/code/target \\\n--mount type=volume,source=registry_cache,target=/usr/local/cargo/registry \\\ncosmwasm/rust-optimizer:0.12.6\n')))),(0,o.kt)("p",null,"Be sure to execute the generation code at the root of the folder."),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Unoptimized WASM files might get too big for JunoTools to deploy and thus fail or request more gas fees than usual."),(0,o.kt)("p",{parentName:"div"},"Try to build an optimized WASM file when possible."))),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(5307).Z,width:"2284",height:"664"})),(0,o.kt)("p",null,"When the file is generated, simply head to the ",(0,o.kt)("a",{parentName:"p",href:"https://juno.tools/contracts/upload/"},"Contract Upload page"),", choose the WASM file, and press upload contract."),(0,o.kt)("p",null,(0,o.kt)("img",{src:n(5122).Z,width:"2242",height:"1122"})),(0,o.kt)("p",null,"Congrats! You have successfully learned how to upload a contract to the Juno network!"))}p.isMDXComponent=!0},5307:function(e,t,n){t.Z=n.p+"assets/images/upload-contract-f04a905c637e7a1280adf79690390b70.png"},5122:function(e,t,n){t.Z=n.p+"assets/images/uploaded-contract-aafb2a3ce6165de542322963070e343a.png"}}]);